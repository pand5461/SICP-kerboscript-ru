# Глава 0. Первые шаги

Для разбора примеров будет использоваться kerboscript -- язык из мода kOS для игры Kerbal Space Program. 
Цель, которую преследует мод -- дать игрокам возможность написать собственный автопилот для ракет внутри игры. 
Цель, которую преследует данное руководство -- показать некоторые практики построения программ, которые мне 
кажутся полезными и часто необходимыми.

## Где достать kerboscript
Для начала нужно скачать и установить мод в Kerbal Space Program. Это делается либо через CKAN, либо скачивается 
последняя версия со [страницы мода на GitHub](https://github.com/KSP-KOS/KOS/releases) и распаковывается в GameData, 
как и любой другой мод.

## Где искать дополнительную информацию
Официальная документация с полным списком возможностей языка: https://ksp-kos.github.io/KOS/index.html

Страница мода на форуме: https://forum.kerbalspaceprogram.com/index.php?/topic/165628-141-kos-v1152-kos-scriptable-autopilot-system/

Reddit: https://www.reddit.com/r/Kos/

## Как пользоваться модом

В данном руководстве функции автопилота рассматриваться не будут, поэтому особо хитрых ракетных конструкций строить не придётся. 
После установки мода запускаем игру и входим в какое-либо сохранение из песочницы. Мод добавляет несколько типов процессоров, которые 
находятся в категории "управление". 

Скрипты могут запускаться только с крафта, который загружен в память. Поэтому для начала строим крафт, в котором есть 
kOS процессор, деталь для управления (лучше probe core), антенна и электричество, желательно с генератором (РИТЭГ подойдёт). 
Команды при первоначальной загрузке можно либо вводить вручную, либо использовать загрузочный файл. Попробуем сделать простой 
загрузочный файл.

Загрузочные файлы должны храниться в директории `KSP_installation/Ships/Script/boot` и быть обычными текстовыми файлами. Если директории 
`Script/boot` нет, то нужно её создать и создать в ней файл следующего содержания:
```
wait until ship:loaded and ship:unpacked.
core:doevent("open terminal").
```
Файл надо сохранить под именем, заканчивающимся на `.ks`, например, `firstboot.ks`.

Что в нём делается?

Первая команда ожидает, пока крафт загрузится в память и "распакуется", т.е. для него начнёт обсчитываться физика и, соответственно, попытки влияния на 
него со стороны игрока или процессора kOS возымеют действие.

Вторая строчка даёт команду на открытие терминала в игре.

Здесь можно видеть первую особенность языка -- команды заканчиваются точками (в отличие от точек с запятой, к примеру, в Паскале или Си).

Чтобы этот файл запускался при загрузке крафта, в ЦВС щёлкаем правой кнопкой на kOS процессор, находим строчку "Boot file" и щёлкаем на стрелки, пока не 
выберется нужный файл (если в списке нет файла, то нужно либо выйти-зайти в ЦВС, либо сохранить крафт и загрузить его заново).

Когда выбран нужный загрузочный файл, при выкате крафта на стартовую площадку должны запуститься записанные в скрипте команды, и откроется терминал. Теперь можно переходить к дальнейшим действиям.

[Глава 1. Процедурные абстракции \>](../ch1/ch1.1.md)

[\<\< К оглавлению](../../README.md)
