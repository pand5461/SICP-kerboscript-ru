# Глава 1. Процедурные абстракции

## 1.1. Первое знакомство с языком
В этой части мы будем знакомиться с базовым синтаксисом kerboscript и начнём знакомство 
со средствами построения выражений, комбинирования базовых элементов для создания более 
сложных конструкций и средств абстракции, позволяющих давать собственные имена таким сложным 
конструкциям и манипулировать ими как отдельными сущностями.

Работа с kerboscript может происходить в двух режимах: интерактивный режим, когда выражения 
и команды набираются в терминале и выполняются, и режим исполнения файла, когда команды считываются 
из файла.

Начнём знакомство с интерактивного режима.

В открытом терминале наберём какое-нибудь число, например
```
> 42.
```
(знаком `>` будут обозначаться строки пользовательского ввода).
Интерпретатор ничего не печатает.
Если набрать
```
hello.
```
то выведется сообщение о том, что переменная с именем "hello" не определена.

Введём команду
```
> print "hello".
```
В ответ будет напечатана строка "hello". Если набрать
```
> print 2.
```
напечатается число 2. А вот команда 
```
> print hello.
```
опять вызывает такую же ошибку о несуществующей переменной.

Можно также набрать 
```
> print 2+3*4.
```
В ответ будет выведено число 14.

Таким образом, выражение после команды `print` сначала вычисляется, а затем выводится в терминал.

Можно попробовать более сложные выражения:
```
> print (3 + 7) * 9^2 * 1.5 - 1.
1214
```
Этот пример показывает, что kerboscript может работать как с целыми числами, так и с числами с плавающей точкой, а при арифметических вычислениях учитывается старшинство операций: возведение в степень (`^`) выполняется раньше умножения и деления, а они, в свою очередь, -- раньше сложения и вычитания. И, как обычно, выражения в скобках вычисляются раньше всех, что можно использовать, если вы не помните, какая математическая операция за какой идёт по старшинству.

Как и в других языках, в kerboscript программист может по желанию присваивать имена вычислительным объектам. 
Говорится, что создается *переменная* с некоторым именем, *значением* которой является вычислительный объект.

Создание переменной, или *связывание* имени переменной с некоторым значением, делается командой `declare` с указанием области видимости связывания `global` или `local`. К областям видимости мы вернёмся позже, сейчас отметим, что в терминале можно создавать только глобально видимые переменные. Таким образом, создание переменной будет выглядеть так:
```
> declare global x is 42.
```
Если теперь набрать команду 
```
> print x.
```
то в терминале выведется число `42`.
```
> print x/2.
```
ожидаемо выводит `21`.

Проверить, связано ли имя с каким-либо значением, можно командой `defined`:
```
> print (defined x).
True
> print (defined not_x).
False
```
Если переменная определена, то её значение может использоваться в других выражениях, а также при вычислении значений, которые присваиваются другим переменным:
```
> declare global radius is 2.
> declare global PI is 3.14.
> declare global circle_area is PI * radius * radius.
> print circle_area.
12.56
```
Таким образом, сложные определения комбинируются из более простых, что является основой построения программных систем.

Заметим, что связывание символа со значением происходит в рамках некоторой области памяти, называемой *окружением*. "Верхний уровень" терминала является *глобальным окружением*, но также при написании сложных программ возможно создавать вложенные окружения различной глубины.

[1.2. Особенности работы с терминалом и файлами \>](ch1.2.md)

[\< Глава 0. Первые шаги](../ch0/ch0.md)

[\<\< К оглавлению](../../README.md)
